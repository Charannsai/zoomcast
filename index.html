<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZoomCast ‚Äî Screen.studio for Windows</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
</head>

<body>

    <!-- ‚ïê‚ïê‚ïê CUSTOM TITLE BAR ‚ïê‚ïê‚ïê -->
    <div id="titlebar">
        <div class="titlebar-drag">
            <div class="titlebar-logo">
                <div class="logo-dot red"></div>
                <div class="logo-dot orange"></div>
                <div class="logo-dot green"></div>
                <span class="titlebar-title">ZoomCast</span>
                <span class="titlebar-subtitle">Screen.studio for Windows</span>
            </div>
        </div>
        <div class="titlebar-controls">
            <button class="tb-btn" id="btn-minimize" title="Minimize">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <rect y="5" width="12" height="2" rx="1" fill="currentColor" />
                </svg>
            </button>
            <button class="tb-btn" id="btn-maximize" title="Maximize">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.5"
                        fill="none" />
                </svg>
            </button>
            <button class="tb-btn tb-close" id="btn-close" title="Close">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <path d="M2 2L10 10M10 2L2 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                </svg>
            </button>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê MAIN APP ‚ïê‚ïê‚ïê -->
    <div id="app">

        <!-- ‚îÄ‚îÄ‚îÄ HOME SCREEN ‚îÄ‚îÄ‚îÄ -->
        <div id="home-screen" class="screen active">
            <div class="home-layout">
                <!-- Left: Hero + Controls -->
                <div class="home-main">
                    <div class="hero-section">
                        <div class="hero-badge">
                            <span class="badge-dot"></span>
                            Professional Screen Recording
                        </div>
                        <h1 class="hero-title">
                            Record. <span class="gradient-text">Zoom.</span> Export.
                        </h1>
                        <p class="hero-desc">
                            Cinematic screen recordings with automatic cursor zoom, beautiful backgrounds,
                            rounded corners, and smooth animations. Enterprise-grade quality.
                        </p>
                    </div>

                    <!-- Source Selection -->
                    <div class="source-section">
                        <h3 class="section-label">Select Display</h3>
                        <div id="source-grid" class="source-grid">
                            <!-- Populated dynamically -->
                            <div class="source-placeholder">
                                <div class="spinner"></div>
                                <span>Loading displays...</span>
                            </div>
                        </div>
                    </div>

                    <!-- Record Button -->
                    <div class="record-section">
                        <button id="btn-record" class="record-btn" disabled>
                            <span class="record-icon">‚óè</span>
                            <span class="record-label">Start Recording</span>
                        </button>
                        <div class="record-hint">
                            <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd> to toggle &nbsp;|&nbsp;
                            <kbd>Esc</kbd> to stop
                        </div>
                    </div>

                    <!-- Recording Overlay (shown during recording) -->
                    <div id="recording-overlay" class="recording-overlay hidden">
                        <div class="rec-indicator">
                            <span class="rec-dot pulse"></span>
                            <span class="rec-text">Recording</span>
                        </div>
                        <div class="rec-timer" id="rec-timer">00:00:00</div>
                        <div class="rec-stats" id="rec-stats">Preparing...</div>
                        <div class="rec-controls">
                            <button id="btn-pause" class="ctrl-btn pause-btn">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <rect x="6" y="4" width="4" height="16" rx="1" />
                                    <rect x="14" y="4" width="4" height="16" rx="1" />
                                </svg>
                                Pause
                            </button>
                            <button id="btn-stop" class="ctrl-btn stop-btn">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <rect x="6" y="6" width="12" height="12" rx="2" />
                                </svg>
                                Stop Recording
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Right: Settings Panel -->
                <div class="home-sidebar">
                    <div class="settings-card">
                        <h3 class="card-title">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="3" />
                                <path
                                    d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z" />
                            </svg>
                            Recording Settings
                        </h3>

                        <div class="setting-row">
                            <label class="setting-label">Frame Rate</label>
                            <select id="fps-select" class="setting-select">
                                <option value="24">24 fps ‚Äî Cinematic</option>
                                <option value="30" selected>30 fps ‚Äî Standard</option>
                                <option value="60">60 fps ‚Äî Smooth</option>
                            </select>
                        </div>

                        <div class="setting-row">
                            <label class="setting-label">Quality</label>
                            <select id="quality-select" class="setting-select">
                                <option value="high" selected>High (Recommended)</option>
                                <option value="ultra">Ultra (Large file)</option>
                                <option value="medium">Medium (Smaller file)</option>
                            </select>
                        </div>

                        <div class="setting-row">
                            <label class="setting-label">Auto Zoom</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="auto-zoom-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                            <span class="setting-hint">Auto-detect zoom from clicks</span>
                        </div>

                        <div class="setting-row">
                            <label class="setting-label">Cursor Overlay</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="cursor-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                            <span class="setting-hint">Arrow cursor on preview</span>
                        </div>

                        <div class="setting-row">
                            <label class="setting-label">Click Effects</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="click-effects-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                            <span class="setting-hint">Ripple on clicks</span>
                        </div>
                    </div>

                    <!-- Tips -->
                    <div class="tips-card">
                        <div class="tip-item">
                            <span class="tip-icon">üí°</span>
                            <span>Cursor is tracked separately for perfect zoom effects</span>
                        </div>
                        <div class="tip-item">
                            <span class="tip-icon">üñ±Ô∏è</span>
                            <span>Every click auto-generates smooth zoom-in segments</span>
                        </div>
                        <div class="tip-item">
                            <span class="tip-icon">‚úÇÔ∏è</span>
                            <span>Edit zoom timing and positions in the built-in editor</span>
                        </div>
                        <div class="tip-item">
                            <span class="tip-icon">üé¨</span>
                            <span>Export with backgrounds, rounded corners & shadows</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ‚îÄ‚îÄ‚îÄ EDITOR SCREEN ‚îÄ‚îÄ‚îÄ -->
        <div id="editor-screen" class="screen">
            <!-- Editor Top Bar -->
            <div class="editor-topbar">
                <div class="topbar-left">
                    <button id="btn-back-home" class="icon-btn" title="Back to Home">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round">
                            <path d="M19 12H5M12 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h2 class="topbar-title">ZoomCast Editor</h2>
                    <span class="topbar-meta" id="editor-meta">0 frames ¬∑ 0.0s</span>
                </div>
                <div class="topbar-right">
                    <button id="btn-add-zoom" class="action-btn accent-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="11" cy="11" r="8" />
                            <path d="M21 21l-4.35-4.35M11 8v6M8 11h6" />
                        </svg>
                        Add Zoom
                    </button>
                    <button id="btn-delete-zoom" class="action-btn danger-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path
                                d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                        </svg>
                        Delete
                    </button>
                    <div class="topbar-divider"></div>
                    <button id="btn-export" class="action-btn export-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12" />
                        </svg>
                        Export Video
                    </button>
                </div>
            </div>

            <!-- Editor Main Layout -->
            <div class="editor-layout">
                <!-- Sidebar: Properties -->
                <div class="editor-sidebar" id="editor-sidebar">
                    <div class="sidebar-section">
                        <h4 class="sidebar-title">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="11" cy="11" r="8" />
                                <path d="M21 21l-4.35-4.35" />
                            </svg>
                            Zoom Segment
                        </h4>
                        <div id="segment-props" class="segment-props">
                            <p class="no-selection">Click a segment on the timeline to edit its properties</p>
                        </div>
                    </div>

                    <div class="sidebar-divider"></div>

                    <div class="sidebar-section">
                        <h4 class="sidebar-title">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                                <circle cx="8.5" cy="8.5" r="1.5" />
                                <path d="M21 15l-5-5L5 21" />
                            </svg>
                            Appearance
                        </h4>

                        <div class="prop-row">
                            <label class="prop-label">Background</label>
                            <div class="color-picker-row">
                                <input type="color" id="bg-color" value="#13161c" class="color-input">
                                <select id="bg-type" class="prop-select">
                                    <option value="solid">Solid</option>
                                    <option value="gradient" selected>Gradient</option>
                                </select>
                            </div>
                        </div>
                        <div class="prop-row">
                            <label class="prop-label">Gradient End</label>
                            <input type="color" id="bg-color2" value="#1e222b" class="color-input">
                        </div>
                        <div class="prop-row">
                            <label class="prop-label">Padding</label>
                            <input type="range" id="padding-slider" min="0" max="150" value="48" class="prop-range">
                            <span class="prop-value" id="padding-value">48px</span>
                        </div>
                        <div class="prop-row">
                            <label class="prop-label">Corner Radius</label>
                            <input type="range" id="corners-slider" min="0" max="40" value="16" class="prop-range">
                            <span class="prop-value" id="corners-value">16px</span>
                        </div>
                        <div class="prop-row">
                            <label class="prop-label">Shadow</label>
                            <label class="toggle-switch small">
                                <input type="checkbox" id="shadow-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="prop-row">
                            <label class="prop-label">Shadow Intensity</label>
                            <input type="range" id="shadow-slider" min="0" max="100" value="60" class="prop-range">
                            <span class="prop-value" id="shadow-value">60%</span>
                        </div>
                        <div class="prop-row">
                            <label class="prop-label">Cursor Size</label>
                            <input type="range" id="cursor-size-slider" min="0.5" max="3" value="1.2" step="0.1"
                                class="prop-range">
                            <span class="prop-value" id="cursor-size-value">1.2√ó</span>
                        </div>

                        <div class="cursor-style-section">
                            <label class="prop-label">Cursor Style</label>
                            <div class="cursor-grid" id="cursor-style-grid">
                                <!-- Populated dynamically -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Center: Preview + Timeline -->
                <div class="editor-center">
                    <!-- Preview Area -->
                    <div class="preview-wrapper">
                        <canvas id="preview-canvas"></canvas>
                        <div class="preview-overlay" id="preview-overlay">
                            <span class="preview-zoom-info" id="zoom-info">1.0√ó</span>
                        </div>
                    </div>

                    <!-- Playback Controls -->
                    <div class="playback-bar">
                        <div class="playback-left">
                            <button id="btn-seek-start" class="pb-btn" title="Go to start">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 20L9 12l10-8v16zM7 19V5H5v14h2z" />
                                </svg>
                            </button>
                            <button id="btn-play" class="pb-btn play-btn" title="Play">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M8 5v14l11-7z" />
                                </svg>
                            </button>
                            <button id="btn-seek-end" class="pb-btn" title="Go to end">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M5 4l10 8-10 8V4zm12-1v18h2V3h-2z" />
                                </svg>
                            </button>
                        </div>
                        <div class="playback-center">
                            <span class="time-display" id="time-current">00:00.00</span>
                            <span class="time-sep">/</span>
                            <span class="time-display" id="time-total">00:00.00</span>
                        </div>
                        <div class="playback-right">
                            <span class="zoom-display" id="current-zoom">Zoom: 1.0√ó</span>
                        </div>
                    </div>

                    <!-- Timeline -->
                    <div class="timeline-wrapper">
                        <canvas id="timeline-canvas"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- ‚îÄ‚îÄ‚îÄ EXPORT SCREEN ‚îÄ‚îÄ‚îÄ -->
        <div id="export-screen" class="screen">
            <div class="export-layout">
                <button id="btn-back-editor" class="icon-btn back-pos">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round">
                        <path d="M19 12H5M12 19l-7-7 7-7" />
                    </svg>
                    <span>Back to Editor</span>
                </button>

                <div class="export-hero">
                    <h1 class="export-title">Export Your Recording</h1>
                    <p class="export-desc">Render your video with all zoom effects, backgrounds, and styling applied.
                    </p>
                </div>

                <div class="export-card">
                    <div class="export-meta" id="export-meta">
                        <!-- Populated dynamically -->
                    </div>

                    <div class="export-settings">
                        <div class="export-row">
                            <label class="export-label">Format</label>
                            <select id="export-format" class="setting-select">
                                <option value="mp4" selected>MP4 (H.264)</option>
                                <option value="webm">WebM (VP9)</option>
                            </select>
                        </div>
                        <div class="export-row">
                            <label class="export-label">Quality</label>
                            <select id="export-quality" class="setting-select">
                                <option value="18">High (CRF 18)</option>
                                <option value="23" selected>Standard (CRF 23)</option>
                                <option value="28">Compact (CRF 28)</option>
                            </select>
                        </div>
                        <div class="export-row">
                            <label class="export-label">Output Path</label>
                            <div class="path-input">
                                <input type="text" id="export-path" class="setting-input" readonly>
                                <button id="btn-browse" class="browse-btn">Browse</button>
                            </div>
                        </div>
                    </div>

                    <!-- Progress -->
                    <div class="export-progress hidden" id="export-progress-section">
                        <div class="progress-bar-track">
                            <div class="progress-bar-fill" id="progress-fill"></div>
                        </div>
                        <div class="progress-info">
                            <span id="progress-text">Preparing...</span>
                            <span id="progress-percent">0%</span>
                        </div>
                    </div>

                    <div class="export-actions">
                        <button id="btn-start-export" class="action-btn export-btn large">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12" />
                            </svg>
                            Render &amp; Export
                        </button>
                    </div>
                </div>

                <!-- Export Complete -->
                <div class="export-complete hidden" id="export-complete">
                    <div class="complete-icon">üéâ</div>
                    <h2>Export Complete!</h2>
                    <p id="export-complete-path"></p>
                    <div class="complete-actions">
                        <button id="btn-open-folder" class="action-btn accent-btn">Open Folder</button>
                        <button id="btn-new-recording" class="action-btn">New Recording</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Hidden video element for playback -->
    <video id="hidden-video" style="display:none" muted></video>

    <script src="js/zoom-engine.js"></script>
    <script src="js/timeline.js"></script>
    <script src="js/app.js"></script>
</body>

</html>